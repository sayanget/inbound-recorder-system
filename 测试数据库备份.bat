@echo off
chcp 65001 > nul
echo ============================================================
echo 测试数据库备份功能
echo ============================================================
echo.

REM 检查Python是否安装
python --version > nul 2>&1
if errorlevel 1 (
    echo 错误: 未找到Python，请先安装Python
    pause
    exit /b 1
)

echo 正在执行数据库备份测试...
echo 这将立即压缩数据库并发送测试邮件
echo.
echo ============================================================
echo.

python db_backup_service.py --test

echo.
echo ============================================================
echo 测试完成
echo ============================================================
echo.
echo 请检查:
echo 1. 控制台输出是否显示压缩成功
echo 2. 是否收到备份邮件
echo 3. 邮件附件是否可以正常下载和解压
echo.

pause
